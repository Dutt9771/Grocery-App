<div class="card bg-body-transparent text-black">
    <img src="/assets/grocery_background.jpg" alt="" class="card-img w-100 h-auto opacity-25" height="100" >
    <div class="card-img-overlay text-center my-3 d-flex justify-content-center align-items-center">
<div>
  <p id="product_list_text"class="card-title fs-1 fw-bolder">My Cart</p>
      </div>
    </div>
  </div>


 
<!-- 
  <div class="card mb-3" style="max-width: 540px;" *ngFor="let product of cart;let i=index">
    <div class="row g-0">
      <div class="col-md-4">
        <img src="/assets/{{product.imageurl}}"
        alt=""
        width="120"
        height="120" class="img-fluid rounded-start" alt="...">
      </div>
      <div class="col-md-8">
        <div class="card-body">
          <button type="button" class="btn btn-transparent float-end" (click)="DelectProduct(product.id)"><img  src="https://img.icons8.com/material/96/null/delete-sign--v1.png" width="25" height="25"/></button>
          <h5 class="card-title">{{product.name}}</h5>
          <p class="card-text">{{product.weight}}</p>
          <div class="card-text"><button (click)="quantitymin(i)">-</button>
            {{product.quantity}}
            <button (click)="quantitymax(i)">+</button>
            <p>{{product.moneyOfferPrice * product.quantity | currency}} </p>
            </div>
        </div>
      </div>
    </div>
  </div> -->
  

<div class="table-responsive container mt-5" *ngIf="cart.length!=0;else EmptyCart">
  <table class="table ">
    <thead>
      <tr>
        
        <th scope="col" colspan="2">Item Description</th>
        <th scope="col">Unit Price</th>
        <th scope="col" >Quantity</th>
        <th scope="col" colspan="2">Subtotal</th>
      </tr>
    </thead>
    <tbody >
     
    <tbody class="table-group-divider" *ngFor="let group of groupedProducts;let y=index">
      <tr><td colspan="6" class="text-left bg-secondary-subtle text-black fw-bold">{{ group.category }}  &nbsp;&nbsp;<span>{{group.cart.length}} </span>Items  Subtotal: {{Subtotal_Per_Category(group) | currency}}</td></tr>
      
      <tr *ngFor="let product of group.cart;let i=index">
        
        <td>{{product.name}} <br/>{{product.weight}}</td>
        <td></td>
        <td><b>{{product.moneyOfferPrice | currency }}</b><br/> <span class="text-decoration-line-through">{{product.price | currency}}</span></td>
        <td><button class="btn btn-outline-transparent btn-transparent" (click)="quantitymin(y,i)"><img width="20" height="20" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAn0lEQVR4nO3SuwrCMBiG4e/6bAfxAIoN1EO917ZzXXVrXIMOhcIvuYU4pbwPvPufj0gAAAAAAAAAAAAAEI2ulHedvJvknWVUvLfTeCqU7HMr9b1a/l3WaQPMTa/5bvnXtGkDhDoonC3/6pA2gK96vZ3lX5X4A16HQs+jLaCVkj32hYZtq2E7adhZPsV7492bPx4PAAAAAAAAAAAAAFqGH3QsHQWQBdHnAAAAAElFTkSuQmCC"></button>
          {{product.quantity}}
          <button class="btn btn-outline-transparent btn-transparent" (click)="quantitymax(y,i)"><img width="20" height="20" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEOElEQVR4nO3d30/VdRzH8del/AfFn1BIMmcIts4HDnaUgxzoRMc8wPnFOV4TXUizNTf7cdB0WZmLTVe22HRli01Xtth0ZQvBFZuubFFEZYdpI4RmWu/24dJCeV+8z2Gd12N7buxs7+3L573v4YLv2QGIiIiIiIiIiIjIXu/6Cuy4vwX99/Uu9nRVePE1KoH+qu3or5pBf5Xc1gx2rM5xJ8W0c/UePFMtd2xndZ5LKYZdD7Rj1xpZXtVbuBRru2vG8VyNLK81Y1yIpXxNJfJrRdXutfdyKVb2r6vDS+tE14PruRCzhdQ6vFwrqvwMGXm91uFgnajyM2RkcIPDG/Wiys+QkSMbHA4/JKr8DBk5GnB462FR5WfIyFDA4R0nqvwMGTkecDjWIKr8DBk5EXR4Lyiq/AwZGQ46fLBRVPkZMnIq5HAyJKr8DBk5HXL4aJOo8jNkZCTs8EmzqPIzZORs2OFMi6jyM2TkXMThs1ZR5WfIyGjE4Ys2UeVnyMiFiMN4u6jyM2RkIurwVVRU+RkycinqcLFDVPkZMnI55vBNTFT5GTIyGXP4bquo8jNk5Me4w9Q2UeVnyMgvcYefO0WVnyEjMwmHQreo8jNk5LeEw7WEqPIzZWc+XYnZZD3mUk2mzab68HtKVPkZ8+tK1uN6bgU8ITmfasdCZhwLGWEZfwZjmE+3lWYZN3r24M+ssOy/z+BGdqC4y5DsdvydE5Zb+gwk11OkZfRW4FZuBn/lhOWWPoNbuQIkscp+ITdzYb5NZZf3Vn0zu9l+IQvpp/BHj7Ceu5/BQs+T9guZy/ThekZY5u5nMJfptV/IbDqM2bSw9DLOIFWEt6ypjgpcTRZwLSUstfQZXE39isli/FH3ZlI5zKSEpZY+g0Iqg6K6kszjSlJY8j/OIPEiSmK6uxXT3WP4KSEsIZhOnMd0cgV8Nn4ycQ++76zHD11Npk119WGqW3R19Zlfl//d/RmUncm4w2SX6OI/qOxcjjt82ymq/AwZuRR3+DouqvwMGS7k4jZRxYUYmog5TDwhuvgYkJ0LMYcvt4oqP0OGCxmPiSouxNBozGH0cdHFO8TOuajD5x2iys+QkbNRh08fE1V+hgwXciYqqrgQQyNRh5FHRRfvEDunIw4ft4sqP0NGTkUcPmwTVX6GDBdyMiKquBBDwxGH4VbRxTvEzomww/tbRJWfISPHww7vtogqP0OGCzkWFlVciKGhsMNQs+jiHWLnaMjh7c2iys+QkSMhhzc3iSo/Q4YLORwSVVyIocGQw2BIlPEOMXMoVIdDj4iqg038ugozrzRV4rWNourVQBk+UVhMB5rGcaBJllfwfKkv9/9vXzCC/UFZVvsaV8CDz+Vgb+MA9jbKnWso0UcCylU+0IOBhgIGGuS2Csg3pEt9eeXp2cAqPN/QjBcCvYv5n/1rREREREREREREBGv/AO088Tx9eszMAAAAAElFTkSuQmCC"></button>
          </td>
          <td class="fw-bolder">{{product.moneyOfferPrice * product.quantity | currency}}</td>
       
        <td> <button type="button" class="btn btn-transparent float-end" (click)="DelectProduct(product.id)"><img  src="https://img.icons8.com/material/96/null/delete-sign--v1.png" width="25" height="25"/></button>
        </td>
      </tr>
    </tbody>
  </table>
  </div>
  <ng-template #EmptyCart>
      <div class="fs-3 fw-bold text-danger align-items-center text-center mt-4">
        Cart is Empty
      </div>
  </ng-template>

  <div class="table-responsive container d-flex justify-content-end mt-3 mb-3" *ngIf="cart.length!=0">
    <table>
    <tr>
      <td class="fs-6">Subtotal:</td>
      <td class="fs-6">{{ Subtotal() | currency}}</td>
    </tr>
    <tr>
      <td class="fs-6">GST:</td>
      <td class="fs-6">{{ GST | currency}}</td>
    </tr>
    <tr>
      <td class="fs-6">Delivery Charges :</td>
      <td class="fs-6">---</td>
    </tr>
    <tr>
      <td colspan="2"><hr class="w-200 border border-dark border-2"></td>
    </tr>
  

    <tr class="mb-2">
      <td class="fs-6 fw-bolder">Total Price:</td>
      <td class="fs-6 fw-bolder">{{ Total | currency}}</td>
    </tr>
    <tr>
      <td colspan="2" class="text-center"><button type="button" class="btn btn-outline-success btn-transparent w-100" (click)="Checkout()">Checkout</button></td>
    </tr>
  </table>
    <p class="d-flex justify-content-end"> </p>
    <p class="d-flex justify-content-end"> </p>
    <p class="d-flex justify-content-end"> </p>
    
  </div>
 
  
  